<!doctype html>
<section id="authSection" class="max-w-md mx-auto mt-10 bg-slate-900 p-6 rounded-xl border border-slate-800">
<h1 class="text-xl font-semibold mb-4">Admin login</h1>
<p class="text-sm opacity-80 mb-3">This protects the on-page editor only.</p>
<input id="password" type="password" class="w-full bg-slate-800 rounded p-2 border border-slate-700" placeholder="Enter admin password" />
<button id="loginBtn" class="mt-4 w-full bg-sky-600 hover:bg-sky-500 rounded p-2 font-medium">Login</button>
</section>

<section id="editorSection" class="hidden">
<div class="flex items-center justify-between mb-4">
<h2 class="text-lg font-semibold">Catalog editor</h2>
<div class="flex gap-2">
<button id="downloadBtn" class="bg-slate-800 px-3 py-2 rounded">Download catalog.json</button>
<label class="bg-slate-800 px-3 py-2 rounded cursor-pointer">
<input id="uploadInput" type="file" accept="application/json" class="hidden" />
Load catalog.json
</label>
</div>
</div>

<div class="grid md:grid-cols-3 gap-6">
<div class="md:col-span-1 bg-slate-900 p-4 rounded-xl border border-slate-800">
<h3 class="font-medium mb-2">Add series</h3>
<input id="seriesTitle" class="w-full mb-2 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Series title" />
<input id="seriesPoster" class="w-full mb-2 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Poster image URL (optional)" />
<textarea id="seriesDesc" class="w-full mb-2 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Series description"></textarea>
<button id="addSeriesBtn" class="w-full bg-sky-600 hover:bg-sky-500 rounded p-2">Add series</button>
</div>

<div class="md:col-span-2 bg-slate-900 p-4 rounded-xl border border-slate-800">
<h3 class="font-medium mb-2">Series → Seasons → Episodes</h3>
<div class="flex flex-wrap gap-2 mb-3">
<select id="seriesSelect" class="bg-slate-800 rounded p-2 border border-slate-700"></select>
<input id="seasonNumber" type="number" min="1" class="w-32 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Season #" />
<button id="addSeasonBtn" class="bg-slate-800 px-3 py-2 rounded">Add season</button>
</div>

<div class="grid lg:grid-cols-2 gap-4">
<div>
<h4 class="font-medium">Add episode</h4>
<input id="epNumber" type="number" min="1" class="w-full mb-2 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Episode #" />
<input id="epTitle" class="w-full mb-2 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Episode title" />
<textarea id="epDesc" class="w-full mb-2 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Episode description"></textarea>
<input id="epPoster" class="w-full mb-2 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Poster/thumbnail URL (optional)" />
<div class="mb-2">
<p class="text-sm mb-1">Add audio sources (one per language)</p>
<div class="flex gap-2 mb-2">
<input id="audioLang" class="flex-1 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Language code (e.g., en, fr, de, lb)" />
<input id="audioUrl" class="flex-[2] bg-slate-800 rounded p-2 border border-slate-700" placeholder="Video file URL for this language (MP4/HLS)" />
<button id="addAudioBtn" class="bg-slate-800 px-3 py-2 rounded">Add</button>
</div>
<ul id="audioList" class="text-sm space-y-1"></ul>
</div>
<div class="mb-2">
<p class="text-sm mb-1">Add subtitles (optional)</p>
<div class="flex gap-2 mb-2">
<input id="capLang" class="flex-1 bg-slate-800 rounded p-2 border border-slate-700" placeholder="Language code" />
<input id="capUrl" class="flex-[2] bg-slate-800 rounded p-2 border border-slate-700" placeholder=".vtt file URL" />
<button id="addCapBtn" class="bg-slate-800 px-3 py-2 rounded">Add</button>
</div>
<ul id="capList" class="text-sm space-y-1"></ul>
</div>
<button id="addEpisodeBtn" class="w-full bg-sky-600 hover:bg-sky-500 rounded p-2">Add episode to season</button>
</div>

<div>
<h4 class="font-medium">Catalog (live preview)</h4>
<pre id="catalogPreview" class="bg-black/40 p-3 rounded-lg overflow-auto max-h-[32rem] text-xs"></pre>
<button id="saveBtn" class="mt-2 bg-emerald-600 hover:bg-emerald-500 rounded p-2 w-full">Save changes to catalog.json</button>
</div>
</div>
</div>
</div>
</section>
</main>

<script type="module" src="js/admin.js"></script>
</body>
</html>
